<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>form submit by js</title>
		<script>
			// 이 문서가 브라우저에서 로드가 완료되면 코드블럭의 코드를 실행하세요
			window.onload = function() {
				// id가 uid인 객체를 찾는다
				let id_form = document.querySelector("#uid");
				// 찾은 객체에 커서를 이동한다
				id_form.focus();
				// 이외에 문서가 로드되었을때에 기본적으로 실행하고 싶은 함수가 있으면
				// 이곳에서 호출하면 됩니다
			}
			
			// submit시 입력값의 유효성을 체크하는 함수 선언
			function CheckValue() {
				//alert("CheckValue함수가 호출되었습니다");
				//console.log(document.loginForm);
				// input 객체'들'을 찾기
				let user_id = document.querySelector("#uid");
				let user_pw = document.querySelector("#upw");
				// 메세지를 출력할 객체 찾기
				let msg_box = document.querySelector(".msg_box");
				// input 객체의 value 속성값을 가져와서 확인
				// 1. value속성값이 없거나 빈문자열일 경우
				// -> 메세지를 출력하고 submit를 중단
				// 2. value속성값이 있고, 원하는 형식에 맞을 경우
				if( user_id.value == "" ){
					msg_box.innerText = "아이디를 입력하세요";
					msg_box.style.color = "red";
					user_id.focus();
					return false;
				}
				// -> 다음 input 객체의 value 속성값을 확인
				if( user_pw.value == "" ){
					msg_box.innerText = "비번을 입력하세요";
					msg_box.style.color = "red";
					user_pw.focus();
					return false;
				}
				// form의 모든 input객체의 value 속성값이 입력되어있고, 형식에 맞으면
				// -> submit 이벤트를 지속
				if( confirm("로그인 하시겠습니까?") != true ){
					alert("취소하셨습니다");
					return false;
				}else{
					alert("진행합니다");
					// submit를 명시적으로 호출하기
					document.loginForm.submit();
					return true;
				}
				// return false;
			}
		</script>
	</head>
	<body>
		<!-- form 영역에서 submit 이벤트가 발생되면
			 loginOk.jsp에 get방식으로 uid와 upw에 입력된 값을 전송 -->
		<form	action="loginOk.jsp"
				method="get"
				id="loginForm" name="loginForm"
				onsubmit="return CheckValue();" >
			<label>아이디 :
				<input type="text" id="uid" name="uid">
			</label><br>
			<label>비번 :
				<input type="password" id="upw" name="upw">
			</label><br>
			<span class="msg_box"></span><br>
			<input type="button" value="버튼" onclick="CheckValue();">
			<span style="background-color:yellow;" onclick="CheckValue();">span버튼</span>
			<button type="submit">submit btn</button>
			<input type="submit" value="submit">
		</form>
	</body>
</html>