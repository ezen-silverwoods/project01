<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<!-- 라디오 버튼 -->
	<h1>설문지</h1>
	그렇다<input 
		type="radio" 
		name="r1" 
		value="1" 
		onchange="radioChange(this)">
	보통이다<input 
		type="radio" 
		name="r1" 
		value="2"
		onchange="radioChange(this)">
	아니다<input 
		type="radio" 
		name="r1" 
		value="3"
		onchange="radioChange(this)"><br>
		
	<!-- 체크박스 -->
	<h1>유입경로</h1>
	전체 선택/해제<input 
		id="ca"
		type="checkbox"
		onchange="checkAll(this)"><br>
	광고<input 
		type="checkbox" 
		value="a" 
		onchange="checkboxChange(this)"
		class="cb">
	블로그<input 
		type="checkbox" 
		value="b"
		onchange="checkboxChange(this)"
		class="cb">
	sns<input 
		type="checkbox" 
		value="c"
		onchange="checkboxChange(this)"
		class="cb">
		
	<!-- select -->
	<br>
	<select onchange="selectChange(this)">
		<option value="a">축구</option>
		<option value="b" selected>게임</option>
		<option value="c">공부</option>
		<option value="d">여행</option>
	</select>
</body>
<script>
	//select가 변경될 때 동작하는 함수
	//선택한 취미를 출력하는 함수
	function selectChange(e){
		console.log(e.value)
		//value가 a면 취미가 축구
		//b면 취미가 게임, c면 취미가 공부, d면 취미가 여행
		switch(e.value){
			case "a":
				console.log("축구")
				break;
			case "b":
				console.log("게임")
				break;
			case "c":
				console.log("공부")
				break;
			case "d":
				console.log("여행")
				break;
		}
	}

	//체크박스가 체크될 때 cb라는 이름의 클래스를 가진 체크박스를
	//전부 체크하고, 체크 해제하는 함수
	function checkAll(e){
		console.log(e.checked)
		let cb = document.getElementsByClassName("cb")
		for(let i = 0; i < cb.length; i ++){
			cb[i].checked = e.checked
		}
	}

	//체크박스 3개에 대해 체크가 변경되었을 때 동작하는 함수
	function checkboxChange(e){
		//console.log(e.value)
		//체크박스와 라디오는 체크가 되었는지 체크 상태를 포함하는 속성이
		//존재한다. true일 경우에는 이벤트가 발생했을 때 체크가 된것
		//false일 경우에는 이벤트가 발생했을 때 체크가 해제된것
		//console.log(e.checked)
		
		//체크박스 개별로 함수가 동작하기 때문에 이전에 다른 체크박스에
		//체크 여부를 확인할 수 없다.
		//모든 체크박스를 자바스크립트로 전부 찾아 반복하면서
		//체크가 되어있는 체크박스를 출력해주어야 한다.
		
		//체크박스 3개 중 true일 때에만 추가되는 true체크박스 개수
		let cbLength = 0;
		let cb = document.getElementsByClassName("cb");
		for(let i = 0; i < cb.length; i ++){
			console.log(cb[i].checked)
			//체크박스가 true일 때 카운트 증가
			if(cb[i].checked == true){
				cbLength += 1;
			}
		}
		//true체크박스 개수가 체크박스 전체 개수보다 적을 때
		if(cbLength < cb.length){
			//전체선택 체크박스 비활성화
			document.getElementById("ca").checked = false
		}else{
			document.getElementById("ca").checked = true
		}
	}

	//라디오 3개에 대한 체크가 되었을 때 동작하는 함수
	function radioChange(e){
		console.log(e.value)
		//선택된 라디오의 value가 1이면 설문지의 대답이 "그렇다"
		//value가 2면 설문지의 대답이 "보통이다"
		//value가 3이면 설문지의 대답이 "아니다"
		if(e.value == "1"){
			console.log("그렇다")
		}else if(e.value == "2"){
			console.log("보통이다")
		}else{
			console.log("아니다")
		}
	}
</script>
</html>